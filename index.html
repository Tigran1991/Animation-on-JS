<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Animation on JS</title>
    <script src="./gsap.min.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      .main-container {
        display: flex;
        flex-direction: row;
        justify-content: center;
        background: #0066cd;
        overflow: hidden;
      }

      .animationElement1 {
        width: 400px;
        height: 408px;
        background-color: #333;
        z-index: 2;
        background: #0066cd;
        position: absolute;
        left: 0;
      }

      .animationElement2 {
        width: 400px;
        height: 408px;
        background-color: #333;
        z-index: 2;
        background: #0066cd;
        position: absolute;
        right: 0;
      }

      .animation-container {
        position: relative;
        display: flex;
        flex-direction: row;
        width: 900px;
        height: 408px;
      }

      .left-design-element {
        position: absolute;
        top: 0px;
        left: -100px;
        width: 479px;
        height: 375px;
        z-index: 0;
      }

      .right-design-element {
        position: absolute;
        right: -100px;
        top: 0px;
        width: 479px;
        height: 375px;
        z-index: 0;
      }

      .main-image-container {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 30%;
        z-index: 3;
      }

      .main-image-wrapper {
        opacity: 0;
      }

      .main-image-wrapper img {
        max-width: 100%;
        max-height: 160px;
      }

      .first-step-image-wrapper {
        opacity: 0;
        z-index: 1;
      }

      .first-step-image-wrapper img {
        max-width: 100%;
        max-height: 49px;
      }

      .add-text-container {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 28%;
        z-index: 3;
      }

      .add-text-image-wrapper {
        opacity: 0;
      }

      .add-text-image-wrapper img {
        max-width: 100%;
        max-height: 97px;
      }

      .second-step-image-wrapper {
        opacity: 0;
        z-index: 1;
      }

      .second-step-image-wrapper img {
        max-width: 100%;
        max-height: 49px;
      }

      .templates-container {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 42%;
        z-index: 3;
      }

      .template-images-wrapper {
        display: flex;
        position: relative;
        width: 99%;
        height: 50vh;
        z-index: 1;
      }

      .template1-wrapper {
        display: flex;
        width: 131px;
        height: 129px;
        z-index: 1;
        position: absolute;
        right: 0%;
        top: 31.61%;
        opacity: 0;
      }

      .template2-wrapper {
        display: flex;
        width: 131px;
        height: 129px;
        z-index: 1;
        position: absolute;
        right: 12.56%;
        top: 9.16%;
        opacity: 0;
      }

      .template3-wrapper {
        display: flex;
        width: 131px;
        height: 129px;
        z-index: 1;
        position: absolute;
        right: 14.68%;
        top: 28.69%;
        opacity: 0;
      }

      .template4-wrapper {
        display: flex;
        width: 131px;
        height: 129px;
        z-index: 1;
        position: absolute;
        right: 33.81%;
        top: 0%;
        opacity: 0;
      }

      .template5-wrapper {
        display: flex;
        width: 131px;
        height: 129px;
        z-index: 1;
        position: absolute;
        right: 53.54%;
        top: 24.36%;
        opacity: 0;
      }

      .template6-wrapper {
        display: flex;
        width: 131px;
        height: 129px;
        z-index: 1;
        position: absolute;
        right: 34.72%;
        top: 28.73%;
        opacity: 0;
      }

      .template7-wrapper {
        display: flex;
        width: 131px;
        height: 129px;
        z-index: 1;
        position: absolute;
        right: 10.08%;
        top: 57.1%;
        opacity: 0;
      }

      .template8-wrapper {
        display: flex;
        width: 131px;
        height: 129px;
        z-index: 1;
        position: absolute;
        right: 69.94%;
        top: 31.54%;
        opacity: 0;
      }

      .template9-wrapper {
        display: flex;
        width: 131px;
        height: 129px;
        z-index: 1;
        position: absolute;
        right: 35.88%;
        top: 58.02%;
        opacity: 0;
      }

      .template10-wrapper {
        display: flex;
        width: 131px;
        height: 129px;
        z-index: 1;
        position: absolute;
        right: 57.94%;
        top: 44.57%;
        opacity: 0;
      }
    </style>
  </head>
  <body>
    <div class="main-container">
      <div class="animationElement1" id="animationElement1"></div>
      <div class="animationElement2" id="animationElement2"></div>
      <div class="animation-container">
        <div class="main-image-container" id="main-image-container">
          <div class="main-image-wrapper" id="main-image-wrapper">
            <img src="./images/MainImage.webp" alt="uploaded image" />
          </div>
          <div class="first-step-image-wrapper" id="first-step-image-wrapper">
            <img src="./images/firstStep-image.png" />
          </div>
        </div>
        <div class="add-text-container">
          <div class="add-text-image-wrapper" id="add-text-image-wrapper">
            <img src="./images/AddText.webp" />
          </div>
          <div class="second-step-image-wrapper" id="second-step-image-wrapper">
            <img src="./images/secondStep-image.png" />
          </div>
        </div>
        <div class="templates-container">
          <div class="template-images-wrapper">
            <div class="template1-wrapper" id="template1-wrapper">
              <img src="./images/Templates/Template1.webp" />
            </div>
            <div class="template2-wrapper" id="template2-wrapper">
              <img src="./images/Templates/Template2.webp" />
            </div>
            <div class="template3-wrapper" id="template3-wrapper">
              <img src="./images/Templates/Template3.webp" />
            </div>
            <div class="template4-wrapper" id="template4-wrapper">
              <img src="./images/Templates/Template4.webp" />
            </div>
            <div class="template5-wrapper" id="template5-wrapper">
              <img src="./images/Templates/Template5.webp" />
            </div>
            <div class="template6-wrapper" id="template6-wrapper">
              <img src="./images/Templates/Template6.webp" />
            </div>
            <div class="template7-wrapper" id="template7-wrapper">
              <img src="./images/Templates/Template7.webp" />
            </div>
            <div class="template8-wrapper" id="template8-wrapper">
              <img src="./images/Templates/Template8.webp" />
            </div>
            <div class="template9-wrapper" id="template9-wrapper">
              <img src="./images/Templates/Template9.webp" />
            </div>
            <div class="template10-wrapper" id="template10-wrapper">
              <img src="./images/Templates/Template10.webp" />
            </div>
          </div>
        </div>
      </div>
      <div class="left-design-element" id="left-design-element">
        <img src="./images/left-side-design-element.png" />
      </div>
      <div class="right-design-element" id="right-design-element">
        <img src="./images/right-side-design-element.png" />
      </div>
    </div>
    <script>
      const IMAGE = document.getElementById("main-image-wrapper");
      const FIRST_STEP = document.getElementById("first-step-image-wrapper");
      const ADD_TEXT = document.getElementById("add-text-image-wrapper");
      const SECOND_STEP = document.getElementById("second-step-image-wrapper");
      const TEMPLATE1 = document.getElementById("template1-wrapper");
      const TEMPLATE2 = document.getElementById("template2-wrapper");
      const TEMPLATE3 = document.getElementById("template3-wrapper");
      const TEMPLATE4 = document.getElementById("template4-wrapper");
      const TEMPLATE5 = document.getElementById("template5-wrapper");
      const TEMPLATE6 = document.getElementById("template6-wrapper");
      const TEMPLATE7 = document.getElementById("template7-wrapper");
      const TEMPLATE8 = document.getElementById("template8-wrapper");
      const TEMPLATE9 = document.getElementById("template9-wrapper");
      const TEMPLATE10 = document.getElementById("template10-wrapper");
      const ANIMATION_ELEMENT1 = document.getElementById("animationElement1");
      const ANIMATION_ELEMENT2 = document.getElementById("animationElement2");

      const TEMPLATES = [
        TEMPLATE1,
        TEMPLATE2,
        TEMPLATE3,
        TEMPLATE4,
        TEMPLATE5,
        TEMPLATE6,
        TEMPLATE7,
        TEMPLATE8,
        TEMPLATE9,
        TEMPLATE10,
      ];

      const DIRECTIONS = [-100, 100];

      const playAnimation = () => {
        TEMPLATES.forEach((template) => {
          const TEMPLATE = {
            name: template,
            animationProperties: {
              x: DIRECTIONS[Math.random() < 0.5 ? 0 : 1],
              y: DIRECTIONS[Math.random() < 0.5 ? 0 : 1],
              opacity: 0,
              duration: 1,
            },
          };
          TEMPLATES.splice(TEMPLATES.indexOf(template), 1, TEMPLATE);
        });

        gsap.to(ANIMATION_ELEMENT1, { x: 500, duration: 9 });
        gsap.to(ANIMATION_ELEMENT2, { x: -500, duration: 9 });

        gsap.timeline().to(IMAGE, { duration: 1, opacity: 1 });

        setTimeout(() => {
          gsap.to(FIRST_STEP, {
            duration: 1,
            x: 30,
            opacity: 1,
          });
        }, 990);

        setTimeout(() => {
          gsap.timeline().to(ADD_TEXT, { duration: 1, opacity: 1 });
        }, 990);

        setTimeout(() => {
          gsap.to(SECOND_STEP, { duration: 1, x: 40, opacity: 1 });
        }, 2000);

        setTimeout(() => {
          TEMPLATES.forEach((template) => {
            template.name.style.opacity = 1;
            gsap.timeline().from(template.name, template.animationProperties);
          });
        }, 2000);
      };

      playAnimation();
    </script>
  </body>
</html>
